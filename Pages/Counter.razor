@page "/counter"
@using BlazorCascadingAndLogging.Models
@inject ILogger<CounterModel> Logger

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @CounterModel?.Count</p>

<p>Pick a number to use as a multiplier:</p>
<button class="btn btn-success" @onclick="IncrementCount">Click me to increase by 1</button>

@code {
    protected override void OnInitialized()
    {
        Logger.LogInformation("Counteren er blevet initialiseret med Serilog.");
    }

    [CascadingParameter]
    private CounterModel? CounterModel { get; set; }

    private void IncrementCount()
    {
        CounterModel?.IncrementCount();
        Logger.LogInformation($"Counter incremented, Current Count: {CounterModel?.Count}");
    }
}
